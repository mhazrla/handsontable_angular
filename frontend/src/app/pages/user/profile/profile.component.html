<div class="position-relative mx-n4 mt-n4">
  <div class="profile-wid-bg profile-setting-img">
    <img src="assets/images/profile-bg.jpg" class="profile-wid-img" alt="" />
  </div>
</div>

<div class="row">
  <div class="col-xxl-3">
    <div class="card mt-n5">
      <div class="card-body p-4">
        <div class="text-center">
          <div
            class="profile-user position-relative d-inline-block mx-auto mb-4"
          >
            <img
              src="assets/images/users/avatar-1.jpg"
              class="rounded-circle avatar-xl img-thumbnail user-profile-image"
              alt="user-profile-image"
            />
            <div class="avatar-xs p-0 rounded-circle profile-photo-edit">
              <input
                id="profile-img-file-input"
                type="file"
                class="profile-img-file-input"
              />
              <label
                for="profile-img-file-input"
                class="profile-photo-edit avatar-xs"
              >
                <span class="avatar-title rounded-circle bg-light text-body">
                  <i class="ri-camera-fill"></i>
                </span>
              </label>
            </div>
          </div>
          <h5 class="fs-16 mb-1">
            {{ userData.name }}
          </h5>
          <p class="text-muted mb-0">{{ userData.role_name }}</p>
        </div>
      </div>
    </div>
    <!--end card-->
  </div>
  <!--end col-->
  <div class="col-xxl-9">
    <div class="card mt-xxl-n5">
      <div class="card-header">
        <ul
          ngbNav
          #customNav="ngbNav"
          [activeId]="1"
          class="nav nav-tabs-custom rounded card-header-tabs border-bottom-0"
          role="tablist"
        >
          <li [ngbNavItem]="1" class="nav-item">
            <a ngbNavLink class="nav-link" data-bs-toggle="tab" role="tab">
              <i class="fas fa-home"></i>
              Personal Details
            </a>
            <ng-template ngbNavContent>
              <form
                [formGroup]="userForm"
                (ngSubmit)="saveProfile()"
                autocomplete="off"
              >
                <div class="row">
                  <div class="col-lg-6">
                    <div class="mb-3">
                      <label for="name" class="form-label">Full Name</label>
                      <input
                        type="text"
                        class="form-control"
                        id="name"
                        placeholder="Name"
                        formControlName="name"
                        [ngClass]="{
                          'is-invalid': submitted && form['name'].errors
                        }"
                      />
                      <div
                        *ngIf="submitted && form['name'].errors"
                        class="invalid-feedback"
                        align="left"
                      >
                        <div *ngIf="form['name'].errors['required']">
                          Name is required
                        </div>
                      </div>
                    </div>
                  </div>
                  <!--end col-->
                  <div class="col-lg-6">
                    <div class="mb-3">
                      <label for="nik" class="form-label">NIK</label>
                      <input
                        type="text"
                        class="form-control"
                        id="nik"
                        placeholder="NIK"
                        formControlName="nik"
                        [ngClass]="{
                          'is-invalid': submitted && form['nik'].errors
                        }"
                      />
                      <div
                        *ngIf="submitted && form['nik'].errors"
                        class="invalid-feedback"
                        align="left"
                      >
                        <div *ngIf="form['nik'].errors['required']">
                          NIK is required
                        </div>
                      </div>
                    </div>
                  </div>
                  <!--end col-->
                  <div class="col-lg-6">
                    <div class="mb-3">
                      <label for="phone_number" class="form-label"
                        >Phone Number</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="phone_number"
                        name="phone_number"
                        placeholder="Enter your phone number"
                        formControlName="phone_number"
                        [ngClass]="{
                          'is-invalid': submitted && form['phone_number'].errors
                        }"
                      />
                      <div
                        *ngIf="submitted && form['phone_number'].errors"
                        class="invalid-feedback"
                        align="left"
                      >
                        <div *ngIf="form['phone_number'].errors['required']">
                          Phone Number is required
                        </div>
                      </div>
                    </div>
                  </div>
                  <!--end col-->
                  <div class="col-lg-6">
                    <div class="mb-3">
                      <label for="email" class="form-label"
                        >Email Address</label
                      >
                      <input
                        type="email"
                        class="form-control"
                        id="email"
                        placeholder="Enter your email"
                        name="email"
                        formControlName="email"
                        [ngClass]="{
                          'is-invalid': submitted && form['email'].errors
                        }"
                      />
                      <div
                        *ngIf="submitted && form['email'].errors"
                        class="invalid-feedback"
                        align="left"
                      >
                        <div *ngIf="form['email'].errors['required']">
                          Email is required
                        </div>
                      </div>
                    </div>
                  </div>
                  <!--end col-->
                  <div class="col-lg-4">
                    <div class="mb-3">
                      <label for="role" class="form-label">Role</label>
                      <input
                        type="text"
                        class="form-control"
                        id="role"
                        placeholder="Enter your role"
                        name="role"
                        formControlName="role"
                        [ngClass]="{
                          'is-invalid': submitted && form['role'].errors
                        }"
                      />
                      <div
                        *ngIf="submitted && form['role'].errors"
                        class="invalid-feedback"
                        align="left"
                      >
                        <div *ngIf="form['role'].errors['required']">
                          Role is required
                        </div>
                      </div>
                    </div>
                  </div>
                  <!--end col-->
                  <div class="col-lg-4">
                    <div class="mb-3">
                      <label for="company" class="form-label">Company</label>
                      <ng-select
                        [items]="Companies"
                        bindLabel="name"
                        bindValue="name"
                        formControlName="company"
                        placeholder="Select User Type"
                        [ngClass]="{
                          'is-invalid': submitted && form['company'].errors
                        }"
                      >
                        <ng-template ng-optgroup-tmp let-item="item">
                          {{ item.id || "Unnamed group" }}
                        </ng-template>
                      </ng-select>
                      <div
                        *ngIf="submitted && form['company'].errors"
                        class="invalid-feedback"
                        align="left"
                      >
                        <div *ngIf="form['company'].errors['required']">
                          Phone Number is required
                        </div>
                      </div>
                    </div>
                  </div>
                  <!--end col-->
                  <div class="col-lg-4">
                    <div class="mb-3">
                      <label for="work_location" class="form-label"
                        >Work Location</label
                      >
                      <ng-select
                        [items]="WorkLocation"
                        bindLabel="name"
                        bindValue="name"
                        formControlName="work_location"
                        placeholder="Select Work Location"
                        [ngClass]="{
                          'is-invalid':
                            submitted && form['work_location'].errors
                        }"
                      >
                      </ng-select>
                      <div
                        *ngIf="submitted && form['work_location'].errors"
                        class="invalid-feedback"
                        align="left"
                      >
                        <div *ngIf="form['work_location'].errors['required']">
                          Work location is required
                        </div>
                      </div>
                    </div>
                  </div>
                  <!--end col-->
                  <div class="col-lg-12">
                    <div class="hstack gap-2 justify-content-end">
                      <button type="submit" class="btn primary-color">
                        Updates
                      </button>
                    </div>
                  </div>
                  <!--end col-->
                </div>
                <!--end row-->
              </form>
            </ng-template>
          </li>
          <li [ngbNavItem]="2" class="nav-item">
            <a ngbNavLink class="nav-link" data-bs-toggle="tab" role="tab">
              <i class="far fa-user"></i>
              Change Password
            </a>
            <ng-template ngbNavContent>
              <form [formGroup]="passwordForm" (ngSubmit)="changePassword()">
                <div class="row g-2">
                  <div class="col-lg-4">
                    <div>
                      <label for="old_password" class="form-label"
                        >Old Password*</label
                      >
                      <input
                        type="password"
                        class="form-control"
                        id="old_password"
                        formControlName="old_password"
                        placeholder="Enter current password"
                        [ngClass]="{
                          'is-invalid':
                            submitted && formPassword['old_password'].errors
                        }"
                      />
                      <div
                        *ngIf="submitted && formPassword['old_password'].errors"
                        class="invalid-feedback"
                        align="left"
                      >
                        <div
                          *ngIf="
                            formPassword['old_password'].errors['required']
                          "
                        >
                          Old Password is required
                        </div>
                      </div>
                    </div>
                  </div>
                  <!--end col-->
                  <div class="col-lg-4">
                    <div>
                      <label for="password" class="form-label"
                        >New Password*</label
                      >
                      <input
                        type="password"
                        class="form-control"
                        id="password"
                        placeholder="Enter new password"
                        formControlName="password"
                        [ngClass]="{
                          'is-invalid':
                            submitted && formPassword['password'].errors
                        }"
                      />
                      <div
                        *ngIf="submitted && formPassword['password'].errors"
                        class="invalid-feedback"
                        align="left"
                      >
                        <div
                          *ngIf="formPassword['password'].errors['required']"
                        >
                          Password is required
                        </div>
                        <div
                          *ngIf="formPassword['password'].errors['minlength']"
                        >
                          Password must be at least 8 characters long
                        </div>
                      </div>
                    </div>
                  </div>
                  <!--end col-->
                  <div class="col-lg-4">
                    <div>
                      <label for="confirmPassword" class="form-label"
                        >Confirm Password*</label
                      >
                      <input
                        type="password"
                        class="form-control"
                        id="confirmPassword"
                        minlength="8"
                        formControlName="confirmPassword"
                        placeholder="Confirm password"
                        [ngClass]="{
                          'is-invalid':
                            submitted && formPassword['confirmPassword'].errors
                        }"
                      />
                      <div
                        *ngIf="formPassword['confirmPassword'].errors"
                        class="invalid-feedback"
                        align="left"
                      >
                        <div
                          *ngIf="
                            formPassword['confirmPassword'].errors['required']
                          "
                        >
                          Confirmation Password is required
                        </div>
                        <div
                          *ngIf="
                            formPassword['confirmPassword'].errors[
                              'passwordMismatch'
                            ]
                          "
                        >
                          Passwords must match
                        </div>
                      </div>
                    </div>
                  </div>
                  <!--end col-->
                  <div class="col-lg-12">
                    <div class="mb-3">
                      <a
                        href="javascript:void(0);"
                        class="link-primary text-decoration-underline"
                        >Forgot Password ?</a
                      >
                    </div>
                  </div>
                  <!--end col-->
                  <div class="col-lg-12">
                    <div class="text-end">
                      <button type="submit" class="btn btn-secondary">
                        Change Password
                      </button>
                    </div>
                  </div>
                  <!--end col-->
                </div>
                <!--end row-->
              </form>

              <div>
                <h5 class="card-title text-decoration-underline mb-3">
                  Delete This Account:
                </h5>
                <p class="text-muted">
                  Go to the Data & Privacy section of your profile Account.
                  Scroll to "Your data & privacy options." Delete your Profile
                  Account. Follow the instructions to delete your account :
                </p>
                <div>
                  <input
                    type="password"
                    class="form-control"
                    id="passwordInput"
                    placeholder="Enter your password"
                    value="make@321654987"
                    style="max-width: 265px"
                  />
                </div>
                <div class="hstack gap-2 mt-3">
                  <a href="javascript:void(0);" class="btn btn-soft-danger"
                    >Close & Delete This Account</a
                  >
                  <a href="javascript:void(0);" class="btn btn-light">Cancel</a>
                </div>
              </div>
            </ng-template>
          </li>
        </ul>
      </div>
      <div class="card-body p-4">
        <div class="tab-content">
          <div [ngbNavOutlet]="customNav"></div>
        </div>
      </div>
    </div>
  </div>
  <!--end col-->
</div>
<!--end row-->
